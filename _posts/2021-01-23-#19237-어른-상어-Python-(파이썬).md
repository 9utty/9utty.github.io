---
title: "[ë°±ì¤€] #19237 ì–´ë¥¸ ìƒì–´ Python (íŒŒì´ì¬)"
date: 2021-01-23 23:31:30 +0800
categories: [Computer Science, Algorithm]
tags: [ì‚¼ì„±ì—­ëŸ‰í…ŒìŠ¤íŠ¸, ë°±ì¤€, python, íŒŒì´ì¬]  
---

# ì–´ë¥¸ ìƒì–´ 

ë¬¸ì œë§í¬

[https://www.acmicpc.net/problem/19237](https://www.acmicpc.net/problem/19237)

## í’€ì´

```python
import sys
sys.stdin = open('input.txt','r')
from copy import deepcopy
n, m, k = map(int,input().split())
# ìƒì–´ì˜ ë²ˆí˜¸ë¥¼ ë‹´ëŠ ê²©ì
board = [[int(x) for x in input().split()] for _ in range(n)]
# ëƒ„ìƒˆ ì˜ì—­ í‘œì‹œ
# [0,-1] ì˜ ì˜ë¯¸ëŠ” ëƒ„ìƒˆê°€ 0 ì´ê³  -1 ì€ ê·¸ ëƒ„ìƒˆ ë¿Œë¦° ìƒì–´ì˜ ë²ˆí˜¸ê°€ ì˜¬ìë¦¬
smell = [[[0,-1]]*n for _ in range(n)]
# ê° ìƒì–´ì˜ ë°©í–¥ê³¼ ìš°ì„ ìˆœìœ„ ì •ë³´ë¥¼ ë‹´ëŠ” ARR
shark_dir = list(map(int,input().split()))
for i in range(m):
    shark_dir[i] = [shark_dir[i]]
    for _ in range(4):
        shark_dir[i].append(list(map(int,input().split())))
# shark_dir = [ë°©í–¥, [ìš°ì„ ìˆœìœ„ë“¤...] ]
# print(shark_dir)
cnt = 0
dir = [(-1,0),(1,0),(0,-1),(0,1)]
temp = 0
while True:
    if temp == m-1 : # 1ê°œë§Œ ë‚¨ì•˜ì„ ê²½ìš° BREAK
        print(cnt)
        break
    if cnt >= 1000:
        print('-1')
        break

    # í˜„ì¬ ìƒì–´ê°€ ìœ„ì¹˜í•œ ìë¦¬ì— ëƒ„ìƒˆë¥¼ ë¿Œë¦°ë‹¤
    for i in range(n):
        for j in range(n):
            if board[i][j] != 0:
                smell[i][j] = [k,board[i][j]]

    new_board = deepcopy(board)
    for i in range(n):
        for j in range(n):
            if board[i][j] != 0:
                d, up, down, left, right = shark_dir[board[i][j]-1]
                dir_arr = [up, down, left, right]
                flag = 0
                for p in range(4):
                    dx, dy = dir[dir_arr[d-1][p] - 1]
                    # ì¸ì ‘í•œ ì˜ì—­ì— ëƒ„ìƒˆê°€ 0 ì¸ ê²½ìš° ìš°ì„ ìˆœìœ„ë¥¼ ê³ ë ¤
                    if -1 < i+dx < n and -1 < j+dy < n and smell[i+dx][j+dy] == [0,-1]:
                        # ì´ë™í•˜ëŠ” ìë¦¬ì— ì–´ë– í•œ ìƒì–´ë„ ì—†ì„ê²½ìš°
                        if new_board[i+dx][j+dy] == 0:
                            new_board[i+dx][j+dy] = board[i][j]
                            new_board[i][j] = 0
                        # ì´ë™í•˜ëŠ” ìë¦¬ì— ë‹¤ë¥¸ ìƒì–´ê°€ ìˆì„ê²½ìš° ë„˜ë²„ë¥¼ ë¹„êµí•´ì„œ ì‘ì€ê²ƒì„ ìœ„ì¹˜ì‹œí‚¤ê³  temp ë¥¼ +1 ì‹œí‚¨ë‹¤ í•˜ë‚˜ ê²©ìë°–ìœ¼ë¡œ ì«“ì•„ë‚´ì§€ë‹ˆê¹Œ
                        else:
                            if new_board[i+dx][j+dy] > board[i][j]:
                                new_board[i+dx][j+dy] = board[i][j]
                            temp += 1
                            new_board[i][j] = 0
                        shark_dir[board[i][j]-1][0] = dir_arr[d-1][p]
                        flag = 1
                        break
                else:
                    # ì¸ì ‘í•œ ì˜ì—­ì— ëƒ„ìƒˆê°€ 0 ì¸ ê³³ì´ ì—†ì„ ê²½ìš°
                    for p in range(4):
                        dx, dy = dir[dir_arr[d-1][p] - 1]
                        # smell[i+dx][j+dy][1]ê°€ ìì‹ ì˜ ë„˜ë²„ì™€ ê°™ì€ ê²½ìš° ì¦‰ ìê¸°ì˜ ëƒ„ìƒˆì¸ ì˜ì—­
                        if -1 < i+dx < n and -1 < j+dy < n and smell[i+dx][j+dy][1] == board[i][j]:
                            new_board[i+dx][j+dy] = board[i][j]
                            new_board[i][j] = 0
                            shark_dir[board[i][j]-1][0] = dir_arr[d-1][p]
                            break

    board = deepcopy(new_board)
    # ê·¸ë¦¬ê³  ëƒ„ìƒˆ ì˜ì—­ ì´ë™í–ˆìœ¼ë‹ˆê¹Œ í•˜ë‚˜ì”© ì¤„ì—¬ì£¼ê¸°
    for i in range(n):
        for j in range(n):
            if smell[i][j][1] != -1:
                smell[i][j][0] -= 1
                if smell[i][j][0] == 0:
                    smell[i][j] = [0,-1]
                            
    # print(board)
    # print(smell)
    cnt += 1
```

## í•´ì„¤

ì‚¬ì‹¤ ì´ ë¬¸ì œë¥¼ í‘¸ëŠ”ë° ì •ë§ ëª‡ë²ˆì„ ì—ì€ ë¬¸ì œì´ë‹¤. ğŸ˜…

ë¨¼ì € ìƒì–´ì˜ ë²ˆí˜¸ë¥¼ ë³¼ ìˆ˜ ìˆëŠ” `board` ê·¸ë¦¬ê³  ëƒ„ìƒˆì— ëŒ€í•œ ì •ë³´ë¥¼ ì•Œë ¤ì£¼ëŠ” `smell`ì´ ìˆë‹¤. `smell` ê°™ì€ ê²½ìš° `[ëƒ„ìƒˆì˜í¬ê¸°, ìƒì–´ë²ˆí˜¸]` ë¡œ ë§Œë“¤ì–´ì„œ ì¸ì ‘í•œ ì˜ì—­ì— ëƒ„ìƒˆê°€ 0 ì¸ ìë¦¬ê°€ ì—†ì„ ê²½ìš° ìì‹ ì˜ ë²ˆí˜¸ì™€ ê°™ì€ ëƒ„ìƒˆ ì¦‰, ìì‹ ì´ ë‚¨ê¸´ ëƒ„ìƒˆ ì˜ì—­ìœ¼ë¡œ ì´ë™í•  ìˆ˜ ìˆë„ë¡ ë§Œë“¤ì—ˆë‹¤. ê·¸ë¦¬ê³  ì´ë™í•œìë¦¬ì— ë‹¤ë¥¸ ìƒì–´ê°€ ìˆì„ ê²½ìš° í•œë§ˆë¦¬ê°€ ì‚¬ë¼ì§€ë¯€ë¡œ `temp` ê°’ì„ 1ì„ ì°¨ê°í•˜ì˜€ë‹¤. ê·¸ë¦¬ê³ , `new_board`ë¥¼ ë§Œë“¤ì–´ì„œ ìƒì–´ë¥¼ í•˜ë‚˜ì”© ì´ë™í•œ ë’¤ì— ì´ë™ì„ ë§ˆì¹˜ë©´ `deepcopy` ë¥¼ ì´ìš©í•´`board`ë¥¼ `new_board` ê°’ìœ¼ë¡œ ì´ˆê¸°í™”í•´ ì£¼ì—ˆë‹¤. ì´ë™ì„ í•œ ë’¤ì—ëŠ”, smell ì´ì°¨ì› ë°°ì—´ì„ íƒìƒ‰í•´ê°€ë©° í•˜ë‚˜ì”© ê°’ì„ ì¤„ì—¬ì£¼ê³  ì¤„ì˜€ì„ë•Œ 0 ì´ ëœ ìë¦¬ëŠ” ë‹¤ì‹œ ì´ˆê¸° ê°’ì¸ [0, -1] ë¡œ ì´ˆê¸°í™” í•´ì£¼ì—ˆë‹¤.