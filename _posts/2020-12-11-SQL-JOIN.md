---
title: "[Database] Join 이란, join의 종류, inner join과 outer join의 차이점"
date: 2020-12-11 16:10:13 +0800
categories: [Computer Science, Database]
tags: [join]  
---

# SQL 에서 Join 이란?

관계형데이터베이스는 중복 데이터를 피하기 위해서 데이터를 여러개의 테이블로 나눠서 저장하게 된다. 이렇게 분리되어 저장된 데이터를 사용자가 원하게끔 다시 도출하기 위해서 여러 테이블을 조합해야할 때가 있다. 이때 SQL의 `join`을 통해서 이를 만들 수 있게된다.

## Join의 종류

- INNER JOIN 
- LEFT OUTER JOIN
- RIGHT OUTER JOIN
- FULL OUTER JOIN
- CROSS JOIN
- SELF JOIN

- #### INNER JOIN

  ![img](https://camo.githubusercontent.com/a8fc07a00af9d97c2898104cb7881a0519983ee570fdb711aed5dd6ee318b016/68747470733a2f2f696d67312e6461756d63646e2e6e65742f7468756d622f523132383078302f3f73636f64653d6d746973746f72793226666e616d653d687474702533412532462532466366696c65392e75662e746973746f72792e636f6d253246696d61676525324639393739394633453541383134384437303336363539)

  교집합으로, 기준 테이블과 join 테이블의 중복된 값을 보여준다.

  ```
  SELECT
  A.NAME, B.AGE
  FROM EX_TABLE A
  INNER JOIN JOIN_TABLE B ON A.NO_EMP = B.NO_EMP
  ```

- #### LEFT OUTER JOIN

  ![img](https://camo.githubusercontent.com/c76a34d9927d99d7def46c2839694677d160586ca2af3eff32d98fa2ae969568/68747470733a2f2f696d67312e6461756d63646e2e6e65742f7468756d622f523132383078302f3f73636f64653d6d746973746f72793226666e616d653d687474702533412532462532466366696c65362e75662e746973746f72792e636f6d253246696d61676525324639393745374634313541383134393035303746303237)

  기준테이블값과 조인테이블과 중복된 값을 보여준다.

  왼쪽테이블 기준으로 JOIN을 한다고 생각하면 편하다.

  ```
  SELECT
  A.NAME, B.AGE
  FROM EX_TABLE A
  LEFT OUTER JOIN JOIN_TABLE B ON A.NO_EMP = B.NO_EMP
  ```

- #### RIGHT OUTER JOIN

  ![img](https://camo.githubusercontent.com/371a3f188280420a933172a212f74285204b85837603ae3cb973c77eb66be74d/68747470733a2f2f696d67312e6461756d63646e2e6e65742f7468756d622f523132383078302f3f73636f64653d6d746973746f72793226666e616d653d687474702533412532462532466366696c6532352e75662e746973746f72792e636f6d253246696d61676525324639393834434533353541383134393138304142443144)

  LEFT OUTER JOIN과는 반대로 오른쪽 테이블 기준으로 JOIN하는 것이다.

  ```
  SELECT
  A.NAME, B.AGE
  FROM EX_TABLE A
  RIGHT OUTER JOIN JOIN_TABLE B ON A.NO_EMP = B.NO_EMP
  ```

- #### FULL OUTER JOIN

  ![img](https://camo.githubusercontent.com/8b69d9df60427a56c5ffd62ad4d9468150dc645331e15ce27ad22e09c71d09bb/68747470733a2f2f696d67312e6461756d63646e2e6e65742f7468756d622f523132383078302f3f73636f64653d6d746973746f72793226666e616d653d687474702533412532462532466366696c6532342e75662e746973746f72792e636f6d253246696d61676525324639393139354633343541383134393339314245304333)

  합집합을 말한다. A와 B 테이블의 모든 데이터가 검색된다.

  ```
  SELECT
  A.NAME, B.AGE
  FROM EX_TABLE A
  FULL OUTER JOIN JOIN_TABLE B ON A.NO_EMP = B.NO_EMP
  ```

- #### CROSS JOIN

  ![img](https://camo.githubusercontent.com/c8170fd119eac82de056d7b1659824b1d398627fa09cccb70553becd4906d146/68747470733a2f2f696d67312e6461756d63646e2e6e65742f7468756d622f523132383078302f3f73636f64653d6d746973746f72793226666e616d653d687474702533412532462532466366696c6531302e75662e746973746f72792e636f6d253246696d61676525324639393346344534343541384132443238314143363642)

  모든 경우의 수를 전부 표현해주는 방식이다.

  A가 3개, B가 4개면 총 3*4 = 12개의 데이터가 검색된다.

  ```
  SELECT
  A.NAME, B.AGE
  FROM EX_TABLE A
  CROSS JOIN JOIN_TABLE B
  ```

- #### SELF JOIN

  ![img](https://camo.githubusercontent.com/3600303a038c6cc6f6189738e96de0f791673b542f84c1895afa9b32a4fb6208/68747470733a2f2f696d67312e6461756d63646e2e6e65742f7468756d622f523132383078302f3f73636f64653d6d746973746f72793226666e616d653d687474702533412532462532466366696c6532352e75662e746973746f72792e636f6d253246696d61676525324639393334314433333541384133363344303631344538)

  자기자신과 자기자신을 조인하는 것이다.

  하나의 테이블을 여러번 복사해서 조인한다고 생각하면 편하다.

  자신이 갖고 있는 칼럼을 다양하게 변형시켜 활용할 때 자주 사용한다.

  ```
  SELECT
  A.NAME, B.AGE
  FROM EX_TABLE A, EX_TABLE B
  ```



출처 https://github.com/gyoogle/tech-interview-for-developer/blob/master/Computer%20Science/Database/%5BDatabase%20SQL%5D%20JOIN.md



## Join 정리

### INNER JOIN 또는 EQUI JOIN

 -> 두 테이블의 조건 만 일치하는 결과 집합을 반환한다.

### OUTER JOIN

-> 조건 일치 여부에 관계 없이 두 테이블에서 모든 값의 결과 집합을 반환한다.

### LEFT JOIN

-> 왼쪽 테이블의 모든 값과 오른쪽 테이블의 조건과 일치하는 행의 결과 집합을 반환한다.

### RIGHT JOIN

-> 오른쪽 테이블의 모든 값과 왼쪽 테이블의 조건과 일치하는 행의 결과 집합을 반환한다.



## INNER JOIN과 OUTER JOIN의 차이점

조인이 되는 키값을 기준으로

Inner join 의 경우는 교집합, outer join 의 경우는 기준테이블 Key의 집합이라고 생각하면 된다.

inner join은 공통된 primary key에 대해서 둘다 값이 있는거만 보여주고 (NULL값을 포함하지 않는다)

outer조인은 대상이 되는 outer에 있는 primarykey 기준으로 테이블 합치면서 반대쪽에 없는 값은 레코드를 null로 둔다.